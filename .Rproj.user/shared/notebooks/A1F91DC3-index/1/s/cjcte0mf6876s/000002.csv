"0","library(magrittr) "
"0","library(plotly) "
"0","# Create variable with a spectrum of emotions "
"0","sona_emotions <- allemotions %>%"
"0","                 select(""trust"", ""anticipation"", ""fear"", ""joy"", ""anger"", ""sadness"", ""surprise"", ""disgust"")"
"0","# Create a dataframe that displays sentiment in descending order"
"0","emotion_bar <- colSums(sona_emotions) "
"0","emotion_sum <- data.frame(count = emotion_bar, sona_emotions = names(emotion_bar))"
"0","emotion_sum$sona_emotions <- factor(emotion_sum$sona_emotions, "
"0","                                    levels = emotion_sum$sona_emotions[order("
"0","                                    emotion_sum$count, decreasing = TRUE)])"
"0","# Visualise sentiment analysis"
"0","emotion_plot <- plot_ly(emotion_sum,"
"0","                        x = ~sona_emotions, "
"0","                        y = ~count, "
"0","                        type = ""bar"", "
"0","                        marker = list(color = c(""cyan"", ""rgb(24,154,211)"", "
"0","                                                ""orange"", ""rgb(30,187,215)"","
"0","                                                ""rgb(254,46,46)"", ""rgb(254,87,87))"", "
"0","                                                ""rgb(113,199,236)"", ""rgb(254,129,129)""))) %>%"
"0","                        layout (title = ""Count of Emotions for #SONA2019"", "
"0","                                xaxis = list(title = """"),"
"0","                                showlegend = FALSE)"
"0","emotion_plot"
